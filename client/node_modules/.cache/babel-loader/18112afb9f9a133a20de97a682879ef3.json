{"ast":null,"code":"var _jsxFileName = \"D:\\\\Major Project Implementation\\\\client\\\\src\\\\pages\\\\UploadJournals.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { parse } from \"papaparse\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UploadJournals({\n  history\n}) {\n  const uploadJornals = async journals => {\n    console.log(journals);\n    await axios.post(`http://localhost:3001/coordinator/addJournals`, journals, {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    }).then(response => {\n      if (response.data.error) {\n        console.log(response.data.error);\n      } else {\n        history.push(\"/printJournals\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Add Conferences\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Upload Journals\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 32\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        borderStyle: \"dashed\",\n        padding: \"30px 10px\",\n        textAlign: \"center\"\n      },\n      onDragOver: e => {\n        e.preventDefault();\n      },\n      onDrop: e => {\n        e.preventDefault();\n        console.log(e.dataTransfer.files);\n        Array.from(e.dataTransfer.files).filter(file => file.type === \"text/csv\").forEach(async file => {\n          const text = await file.text();\n          const result = await parse(text, {\n            header: true\n          });\n          uploadJornals(result.data);\n        });\n      },\n      children: \"DROP HERE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n_c = UploadJournals;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadJournals\");","map":{"version":3,"sources":["D:/Major Project Implementation/client/src/pages/UploadJournals.js"],"names":["React","useState","useEffect","parse","axios","UploadJournals","history","uploadJornals","journals","console","log","post","headers","accessToken","localStorage","getItem","then","response","data","error","push","borderStyle","padding","textAlign","e","preventDefault","dataTransfer","files","Array","from","filter","file","type","forEach","text","result","header"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAAQC,KAAR,QAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAe,SAASC,cAAT,CAAwB;AAACC,EAAAA;AAAD,CAAxB,EAAmC;AAE9C,QAAMC,aAAa,GAAG,MAAOC,QAAP,IAAmB;AACrCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAEA,UAAMJ,KAAK,CACVO,IADK,CACC,+CADD,EACiDH,QADjD,EAC2D;AAC/DI,MAAAA,OAAO,EAAE;AACPC,QAAAA,WAAW,EAAEC,YAAY,CAACC,OAAb,CAAqB,aAArB;AADN;AADsD,KAD3D,EAMLC,IANK,CAMCC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACC,IAAT,CAAcC,KAAlB,EAAyB;AACvBV,QAAAA,OAAO,CAACC,GAAR,CAAYO,QAAQ,CAACC,IAAT,CAAcC,KAA1B;AAED,OAHD,MAGO;AACLb,QAAAA,OAAO,CAACc,IAAR,CAAa,gBAAb;AACD;AACF,KAbK,CAAN;AAcH,GAjBD;;AAoBF,sBACE;AAAA,4BACE,QAAC,MAAD;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,oBAI2B;AAAA;AAAA;AAAA;AAAA,YAJ3B,eAKE;AACE,MAAA,KAAK,EAAE;AAAEC,QAAAA,WAAW,EAAE,QAAf;AAAyBC,QAAAA,OAAO,EAAE,WAAlC;AAA+CC,QAAAA,SAAS,EAAC;AAAzD,OADT;AAEE,MAAA,UAAU,EAAGC,CAAD,IAAO;AACjBA,QAAAA,CAAC,CAACC,cAAF;AACD,OAJH;AAKE,MAAA,MAAM,EAAGD,CAAD,IAAO;AACbA,QAAAA,CAAC,CAACC,cAAF;AACAhB,QAAAA,OAAO,CAACC,GAAR,CAAYc,CAAC,CAACE,YAAF,CAAeC,KAA3B;AACAC,QAAAA,KAAK,CAACC,IAAN,CAAWL,CAAC,CAACE,YAAF,CAAeC,KAA1B,EACGG,MADH,CACWC,IAAD,IAAUA,IAAI,CAACC,IAAL,KAAc,UADlC,EAEGC,OAFH,CAEW,MAAOF,IAAP,IAAgB;AACrB,gBAAMG,IAAI,GAAG,MAAMH,IAAI,CAACG,IAAL,EAAnB;AACC,gBAAMC,MAAM,GAAG,MAAMhC,KAAK,CAAC+B,IAAD,EAAO;AAACE,YAAAA,MAAM,EAAE;AAAT,WAAP,CAA1B;AACD7B,UAAAA,aAAa,CAAC4B,MAAM,CAACjB,IAAR,CAAb;AACH,SANH;AAOD,OAfH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA2BD;KAjDuBb,c","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {parse} from \"papaparse\";\nimport axios from 'axios';\n\nexport default function UploadJournals({history}) {\n\n    const uploadJornals = async (journals)=> {\n        console.log(journals)\n\n        await axios\n        .post(`http://localhost:3001/coordinator/addJournals`, journals, {\n          headers: {\n            accessToken: localStorage.getItem(\"accessToken\"),\n          },\n        })\n        .then((response) => {\n          if (response.data.error) {\n            console.log(response.data.error);\n\n          } else {\n            history.push(\"/printJournals\");\n          }\n        });\n    }\n\n\n  return (\n    <div>\n      <Helmet>\n        <title>Add Conferences</title>\n      </Helmet>\n      <h1>Upload Journals</h1> <br/>\n      <div\n        style={{ borderStyle: \"dashed\", padding: \"30px 10px\", textAlign:\"center\"  }}\n        onDragOver={(e) => {\n          e.preventDefault();\n        }}\n        onDrop={(e) => {\n          e.preventDefault();\n          console.log(e.dataTransfer.files);\n          Array.from(e.dataTransfer.files)\n            .filter((file) => file.type === \"text/csv\")\n            .forEach(async (file) => {\n                const text = await file.text();\n                 const result = await parse(text, {header: true})\n                uploadJornals(result.data);\n            });\n        }}\n      >\n        DROP HERE \n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}